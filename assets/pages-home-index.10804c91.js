import{d as e,m as t,a as i,b as a,o as r,c as o,w as l,n,e as s,f as d,g as u,h as c,F as p,r as g,i as m,j as h,t as y,k as f,l as _,p as v,q as w,s as S,u as b,v as C,x as A,y as x,S as I,z as k,A as B,B as T,C as M,D as U,E as N,G as j,H as z,I as O,J as L}from"./index-a22744b0.js";import{_ as Y,a as W,b as H}from"./u-loading-icon.3e1042b9.js";import{_ as D}from"./errorImg.f06d5c36.js";import{_ as F}from"./WallpaperList.vue_vue_type_script_setup_true_lang.2d771362.js";const P=D({name:"u-swiper-indicator",mixins:[t,i,{props:{length:{type:[String,Number],default:()=>e.swiperIndicator.length},current:{type:[String,Number],default:()=>e.swiperIndicator.current},indicatorActiveColor:{type:String,default:()=>e.swiperIndicator.indicatorActiveColor},indicatorInactiveColor:{type:String,default:()=>e.swiperIndicator.indicatorInactiveColor},indicatorMode:{type:String,default:()=>e.swiperIndicator.indicatorMode}}}],data:()=>({lineWidth:22}),computed:{lineStyle(){let e={};return e.width=a(this.lineWidth),e.transform=`translateX(${a(this.current*this.lineWidth)})`,e.backgroundColor=this.indicatorActiveColor,e},dotStyle(){return e=>{let t={};return t.backgroundColor=e===this.current?this.indicatorActiveColor:this.indicatorInactiveColor,t}}},methods:{addUnit:a}},[["render",function(e,t,i,a,h,y){const f=m;return r(),o(f,{class:"u-swiper-indicator"},{default:l((()=>["line"===e.indicatorMode?(r(),o(f,{key:0,class:n(["u-swiper-indicator__wrapper",[`u-swiper-indicator__wrapper--${e.indicatorMode}`]]),style:s({width:y.addUnit(h.lineWidth*e.length),backgroundColor:e.indicatorInactiveColor})},{default:l((()=>[d(f,{class:"u-swiper-indicator__wrapper--line__bar",style:s([y.lineStyle])},null,8,["style"])])),_:1},8,["class","style"])):u("",!0),"dot"===e.indicatorMode?(r(),o(f,{key:1,class:"u-swiper-indicator__wrapper"},{default:l((()=>[(r(!0),c(p,null,g(e.length,((t,i)=>(r(),o(f,{class:n(["u-swiper-indicator__wrapper__dot",[i===e.current&&"u-swiper-indicator__wrapper__dot--active"]]),key:i,style:s([y.dotStyle(i)])},null,8,["class","style"])))),128))])),_:1})):u("",!0)])),_:1})}],["__scopeId","data-v-939cf1e0"]]);const R=D({name:"u-swiper",mixins:[t,i,{props:{list:{type:Array,default:()=>e.swiper.list},indicator:{type:Boolean,default:()=>e.swiper.indicator},indicatorActiveColor:{type:String,default:()=>e.swiper.indicatorActiveColor},indicatorInactiveColor:{type:String,default:()=>e.swiper.indicatorInactiveColor},indicatorStyle:{type:[String,Object],default:()=>e.swiper.indicatorStyle},indicatorMode:{type:String,default:()=>e.swiper.indicatorMode},autoplay:{type:Boolean,default:()=>e.swiper.autoplay},current:{type:[String,Number],default:()=>e.swiper.current},currentItemId:{type:String,default:()=>e.swiper.currentItemId},interval:{type:[String,Number],default:()=>e.swiper.interval},duration:{type:[String,Number],default:()=>e.swiper.duration},circular:{type:Boolean,default:()=>e.swiper.circular},previousMargin:{type:[String,Number],default:()=>e.swiper.previousMargin},nextMargin:{type:[String,Number],default:()=>e.swiper.nextMargin},acceleration:{type:Boolean,default:()=>e.swiper.acceleration},displayMultipleItems:{type:Number,default:()=>e.swiper.displayMultipleItems},easingFunction:{type:String,default:()=>e.swiper.easingFunction},keyName:{type:String,default:()=>e.swiper.keyName},imgMode:{type:String,default:()=>e.swiper.imgMode},height:{type:[String,Number],default:()=>e.swiper.height},bgColor:{type:String,default:()=>e.swiper.bgColor},radius:{type:[String,Number],default:()=>e.swiper.radius},loading:{type:Boolean,default:()=>e.swiper.loading},showTitle:{type:Boolean,default:()=>e.swiper.showTitle}}}],data:()=>({currentIndex:0}),watch:{current(e,t){e!==t&&(this.currentIndex=e)}},emits:["click","change"],computed:{itemStyle(){return e=>{const t={};return this.nextMargin&&this.previousMargin&&(t.borderRadius=a(this.radius),e!==this.currentIndex&&(t.transform="scale(0.92)")),t}}},methods:{addStyle:h,addUnit:a,testObject:y.object,testImage:y.image,getItemType(e){return"string"==typeof e?y.video(this.getSource(e))?"video":"image":"object"==typeof e&&this.keyName?e.type?"image"===e.type?"image":"video"===e.type?"video":"image":y.video(this.getSource(e))?"video":"image":void 0},getSource(e){return"string"==typeof e?e:"object"==typeof e&&this.keyName?e[this.keyName]:""},change(e){const{current:t}=e.detail;this.pauseVideo(this.currentIndex),this.currentIndex=t,this.$emit("change",e.detail)},pauseVideo(e){const t=this.getSource(this.list[e]);if(y.video(t)){f(`video-${e}`,this).pause()}},getPoster:e=>"object"==typeof e&&e.poster?e.poster:"",clickHandler(e){this.$emit("click",e)}}},[["render",function(e,t,i,a,n,h){const y=_(v("u-loading-icon"),Y),f=m,B=C,T=A,M=x,U=I,N=k,j=_(v("u-swiper-indicator"),P);return r(),o(f,{class:"u-swiper",style:s({backgroundColor:e.bgColor,height:h.addUnit(e.height),borderRadius:h.addUnit(e.radius)})},{default:l((()=>[e.loading?(r(),o(f,{key:0,class:"u-swiper__loading"},{default:l((()=>[d(y,{mode:"circle"})])),_:1})):(r(),o(N,{key:1,class:"u-swiper__wrapper",style:s({flex:"1",height:h.addUnit(e.height)}),onChange:h.change,circular:e.circular,interval:e.interval,duration:e.duration,autoplay:e.autoplay,current:e.current,currentItemId:e.currentItemId,previousMargin:h.addUnit(e.previousMargin),nextMargin:h.addUnit(e.nextMargin),acceleration:e.acceleration,displayMultipleItems:e.displayMultipleItems,easingFunction:e.easingFunction},{default:l((()=>[(r(!0),c(p,null,g(e.list,((t,i)=>(r(),o(U,{class:"u-swiper__wrapper__item",key:i},{default:l((()=>[d(f,{class:"u-swiper__wrapper__item__wrapper",style:s([h.itemStyle(i)])},{default:l((()=>["image"===h.getItemType(t)?(r(),o(B,{key:0,class:"u-swiper__wrapper__item__wrapper__image",src:h.getSource(t),mode:e.imgMode,onClick:e=>h.clickHandler(i),style:s({height:h.addUnit(e.height),borderRadius:h.addUnit(e.radius)})},null,8,["src","mode","onClick","style"])):u("",!0),"video"===h.getItemType(t)?(r(),o(T,{key:1,class:"u-swiper__wrapper__item__wrapper__video",id:`video-${i}`,"enable-progress-gesture":!1,src:h.getSource(t),poster:h.getPoster(t),title:e.showTitle&&h.testObject(t)&&t.title?t.title:"",style:s({height:h.addUnit(e.height)}),controls:"",onClick:e=>h.clickHandler(i)},null,8,["id","src","poster","title","style","onClick"])):u("",!0),e.showTitle&&h.testObject(t)&&t.title&&h.testImage(h.getSource(t))?(r(),o(M,{key:2,class:"u-swiper__wrapper__item__wrapper__title u-line-1"},{default:l((()=>[w(S(t.title),1)])),_:2},1024)):u("",!0)])),_:2},1032,["style"])])),_:2},1024)))),128))])),_:1},8,["style","onChange","circular","interval","duration","autoplay","current","currentItemId","previousMargin","nextMargin","acceleration","displayMultipleItems","easingFunction"])),d(f,{class:"u-swiper__indicator",style:s([h.addStyle(e.indicatorStyle)])},{default:l((()=>[b(e.$slots,"indicator",{},(()=>[e.loading||!e.indicator||e.showTitle?u("",!0):(r(),o(j,{key:0,indicatorActiveColor:e.indicatorActiveColor,indicatorInactiveColor:e.indicatorInactiveColor,length:e.list.length,current:n.currentIndex,indicatorMode:e.indicatorMode},null,8,["indicatorActiveColor","indicatorInactiveColor","length","current","indicatorMode"]))]),!0)])),_:3},8,["style"])])),_:3},8,["style"])}],["__scopeId","data-v-2457dd58"]]);const G=D({name:"u-line",mixins:[t,i,{props:{color:{type:String,default:()=>e.line.color},length:{type:[String,Number],default:()=>e.line.length},direction:{type:String,default:()=>e.line.direction},hairline:{type:Boolean,default:()=>e.line.hairline},margin:{type:[String,Number],default:()=>e.line.margin},dashed:{type:Boolean,default:()=>e.line.dashed}}}],computed:{lineStyle(){const e={};return e.margin=this.margin,"row"===this.direction?(e.borderBottomWidth="1px",e.borderBottomStyle=this.dashed?"dashed":"solid",e.width=a(this.length),this.hairline&&(e.transform="scaleY(0.5)")):(e.borderLeftWidth="1px",e.borderLeftStyle=this.dashed?"dashed":"solid",e.height=a(this.length),this.hairline&&(e.transform="scaleX(0.5)")),e.borderColor=this.color,B(e,h(this.customStyle))}}},[["render",function(e,t,i,a,l,n){const d=m;return r(),o(d,{class:"u-line",style:s([n.lineStyle])},null,8,["style"])}],["__scopeId","data-v-9482bdca"]]);const Q=D({name:"u-loadmore",mixins:[t,i,{props:{status:{type:String,default:()=>e.loadmore.status},bgColor:{type:String,default:()=>e.loadmore.bgColor},icon:{type:Boolean,default:()=>e.loadmore.icon},fontSize:{type:[String,Number],default:()=>e.loadmore.fontSize},iconSize:{type:[String,Number],default:()=>e.loadmore.iconSize},color:{type:String,default:()=>e.loadmore.color},loadingIcon:{type:String,default:()=>e.loadmore.loadingIcon},loadmoreText:{type:String,default:()=>e.loadmore.loadmoreText},loadingText:{type:String,default:()=>e.loadmore.loadingText},nomoreText:{type:String,default:()=>e.loadmore.nomoreText},isDot:{type:Boolean,default:()=>e.loadmore.isDot},iconColor:{type:String,default:()=>e.loadmore.iconColor},marginTop:{type:[String,Number],default:()=>e.loadmore.marginTop},marginBottom:{type:[String,Number],default:()=>e.loadmore.marginBottom},height:{type:[String,Number],default:()=>e.loadmore.height},line:{type:Boolean,default:()=>e.loadmore.line},lineColor:{type:String,default:()=>e.loadmore.lineColor},dashed:{type:Boolean,default:()=>e.loadmore.dashed}}}],data:()=>({dotText:"●"}),computed:{loadTextStyle(){return{color:this.color,fontSize:a(this.fontSize),lineHeight:a(this.fontSize),backgroundColor:this.bgColor}},showText(){let e="";return e="loadmore"==this.status?this.loadmoreText:"loading"==this.status?this.loadingText:"nomore"==this.status&&this.isDot?this.dotText:this.nomoreText,e}},emits:["loadmore"],methods:{addStyle:h,addUnit:a,loadMore(){"loadmore"==this.status&&this.$emit("loadmore")}}},[["render",function(e,t,i,a,c,p){const g=_(v("u-line"),G),h=_(v("u-loading-icon"),Y),y=m,f=x;return r(),o(y,{class:"u-loadmore",style:s([p.addStyle(e.customStyle),{backgroundColor:e.bgColor,marginBottom:p.addUnit(e.marginBottom),marginTop:p.addUnit(e.marginTop),height:p.addUnit(e.height)}])},{default:l((()=>[e.line?(r(),o(g,{key:0,length:"140rpx",color:e.lineColor,hairline:!1,dashed:e.dashed},null,8,["color","dashed"])):u("",!0),d(y,{class:n(["loadmore"==e.status||"nomore"==e.status?"u-more":"","u-loadmore__content"])},{default:l((()=>["loading"===e.status&&e.icon?(r(),o(y,{key:0,class:"u-loadmore__content__icon-wrap"},{default:l((()=>[d(h,{color:e.iconColor,size:e.iconSize,mode:e.loadingIcon},null,8,["color","size","mode"])])),_:1})):u("",!0),d(f,{class:n(["u-line-1",["nomore"==e.status&&1==e.isDot?"u-loadmore__content__dot-text":"u-loadmore__content__text"]]),style:s([p.loadTextStyle]),onClick:p.loadMore},{default:l((()=>[w(S(p.showText),1)])),_:1},8,["style","class","onClick"])])),_:1},8,["class"]),e.line?(r(),o(g,{key:1,length:"140rpx",color:e.lineColor,hairline:!1,dashed:e.dashed},null,8,["color","dashed"])):u("",!0)])),_:1},8,["style"])}],["__scopeId","data-v-1b766534"]]),E="https://service.picasso.adesk.com/v1/vertical",V={...Object.freeze(Object.defineProperty({__proto__:null,YdBaseUrl:E,getYdHotList:e=>T.get(E+"/vertical?limit=10&skip="+e+"&adult=false&first=0&order=hot"),getYdList:(e,t)=>T.get(E+"/category/"+e+"/vertical?limit=10&adult=false&first=1&skip="+t+"&order=new"),getYdNewList:e=>T.get(E+"/vertical?limit=10&skip="+e+"&adult=false&first=0&order=new"),getYdType:()=>T.get(E+"/category")},Symbol.toStringTag,{value:"Module"})),...Object.freeze(Object.defineProperty({__proto__:null,BingBaseUrl:"https://cn.bing.com",getBing:()=>T.get("/api?format=js&idx=0&n=8&mkt=zh-CN")},Symbol.toStringTag,{value:"Module"})),...Object.freeze(Object.defineProperty({__proto__:null,getPcPixiv:()=>T.get("https://api.suyanw.cn/api/loveanimer.php?screen=1&format=1&page=1&limit=10"),getPixiv:()=>T.get("/PixivApi/?return=json")},Symbol.toStringTag,{value:"Module"}))},J=D(M({__name:"index",setup(e){let t=U([]),i=U([]),a=U(null),n=U(0),s=U("loadmore"),u=U("1"),c=U([]);N((async()=>{V.getYdType().then((e=>{t.value=e.data.res.category,t.value.unshift({id:"2",name:"热榜"}),t.value.unshift({id:"1",name:"最新"})}));let e=await V.getBing();const i=[];for(const t of e.data.images)t.url=V.BingBaseUrl+t.urlbase+"_1080x1920.jpg",i.push(t);c.value=i,await g()}));const p=e=>{"1"==e.id?(n.value=0,u.value="1",i.value=[],a.value.clear(),g()):"2"==e.id?(n.value=0,u.value="2",i.value=[],a.value.clear(),g()):(n.value=0,u.value=e.id,i.value=[],a.value.clear(),g())},g=async()=>{let e;s.value="loading",e="1"==u.value?await V.getYdNewList(n.value):"2"==u.value?await V.getYdHotList(n.value):await V.getYdList(u.value,n.value),i.value.push(...e.data.res.vertical),e.data.res.vertical.length<10?s.value="nomore":s.value="loadmore",n.value=n.value+10},h=e=>{let t={imgUrl:c.value[e].url,preview:c.value[e].url};O({url:"/pages/detailsImg/index"+L(t)})};return j((()=>{g()})),(e,n)=>{const u=_(v("up-tabs"),W),y=_(v("up-sticky"),H),f=_(v("up-swiper"),R),w=m,S=_(v("up-loadmore"),Q);return r(),o(w,{class:"home-box"},{default:l((()=>[d(y,{bgColor:"#fff","offset-top":"-44"},{default:l((()=>[d(u,{list:z(t),onClick:p,lineWidth:"20",lineHeight:"7",lineColor:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAOCAYAAABdC15GAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFxSURBVHgBzZNRTsJAEIb/WTW+lpiY+FZPIDew3ABP4GJ8hxsI9zBpOYHeQDwBPQI+mRiRvpLojtPdYhCorQqF/6GdbGd2vvwzBXZcNAt4oj1ANeUoAT5iqkUjbEFLHNmhD1YPEvpZ3ghkGlVDCkc94/BmHMq998I5ONiY1ZBfpKAyuOtgAc5yOEDmYEWNh32BHF91sGHZHmwW4azciN9aQwnz3SJEgOmte+R2tdLprTYoa50mvuomlLpD4Y3oQZnov6D2RzCqI93bWOHaEmAGqQUyRBlZR1WfarcD/EJ2z8DtzDGvsMCwpm8XOCfDUsVOCYhiqRxI/CTQo4UOvjzO7Pow18vfywneuUHHUUxLn55lLw5JFpZ8bEUcY8oXdOLWiHLTxvoGpLqoUmy6dBT15o/ox3znpoycAmxUsiJTbs1cmxeVKp+0zmFIS7bGWiVghC7Vwse8jFKAX9eljh4ggKLLv7uaQvG9/F59Oo2SouxPu7OTCxN/s8wAAAAASUVORK5CYII=) 100% 100%",activeStyle:{color:"#303133",fontWeight:"bold",transform:"scale(1.05)"},inactiveStyle:{color:"#606266",transform:"scale(1)"},itemStyle:"padding-left: 15px; padding-right: 15px; height: 34px;"},null,8,["list","lineColor","activeStyle","inactiveStyle"])])),_:1}),d(w,{class:"index-banner"},{default:l((()=>[d(f,{list:z(c),height:"160",previousMargin:"30",nextMargin:"30",circular:"",autoplay:!0,radius:"5",bgColor:"#ffffff",onClick:h},null,8,["list"])])),_:1}),d(w,{class:"home-content"},{default:l((()=>[d(F,{wallpaperListData:z(i),ref_key:"FnWallpaperList",ref:a},null,8,["wallpaperListData"]),d(S,{status:z(s),onLoadmore:g},null,8,["status"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-c8952bb3"]]);export{J as default};
